# Hammerspoon 自动连点器

一个基于 [Hammerspoon](https://www.hammerspoon.org/) 的 macOS 自动连点工具，通过简单快捷键实现高频率自动点击功能。特别适用于需要在 iPhone 镜像窗口内进行高频率点击的场景。

---

## 🆕 新功能更新（由作者新增）

> ✅ 本节内容为最新版本更新（由作者新增），已在 2025 年 5 月进行功能增强：

### 🔄 “继续尝试”按钮支持

- 现在支持记录一个备用点击坐标（如游戏弹窗中的“继续尝试”按钮）
- 连点过程中，系统会每隔 N 次自动点击该按钮，默认间隔为 5 次
- 点击后会自动将鼠标恢复至主坐标位置，保持主流程不中断

### 🔁 检查间隔设置

- 可通过设置菜单调整“每多少次点击后检查备用按钮”
- 例如：设置为 5，表示每点击主按钮 5 次，就自动点一次“继续尝试”

### ⌨️ 快捷键更新

| 快捷键 | 功能 | 新增说明 |
|--------|------|-----------|
| Option + C | 记录“继续尝试”按钮位置 | ✅ 新增 |
| Option + ⌘ + , | 打开设置菜单 | ✅ 增加了新菜单项 |
| Option + R | 记录主按钮坐标 | 保留 |
| Option + ⌘ + T | 开始连点 | 保留 |
| Option + ⌘ + Y | 停止连点 | 保留 |

---

## 🧩 功能特点

- 🖱️ **高频点击**：支持高达50次/秒的点击频率
- 🎯 **精准定位**：记录并点击指定的屏幕坐标
- 🔁 **辅助点击**：支持备用坐标定期点击“继续尝试”按钮（可选 ✅）
- ⏱️ **自动计时**：设置点击持续时间，自动停止
- ⌨️ **快捷操作**：通过快捷键轻松控制所有功能
- ⚙️ **灵活配置**：可自定义点击间隔、点击次数检查频率（新增 ✅）

---

## 📦 系统要求

- macOS 15.5 或更高版本
- [Hammerspoon](https://www.hammerspoon.org/) 已安装并获得“辅助功能”权限

---

## 🚀 安装方法

1. 安装 [Hammerspoon](https://github.com/Hammerspoon/hammerspoon/releases)
2. 打开 Hammerspoon
3. 打开配置目录：`~/.hammerspoon/`
4. 将 `init.lua` 放入该目录
5. 在菜单栏点击“Reload Config”重新加载配置

---

## ⚙️ 使用方法

### ① 记录坐标

| 快捷键 | 说明 |
|--------|------|
| Option + R | 记录主点击位置 |
| Option + C | 记录“继续尝试”按钮位置 ✅ |

### ② 启动连点

- 按下 `Option + ⌘ + T` 启动
- 若设置了“继续尝试”按钮，每 N 次会自动点击一次
- 连点将在设定时长后自动结束

### ③ 停止连点

- 按下 `Option + ⌘ + Y` 可立即停止

### ④ 设置菜单（Option + ⌘ + ,）

设置菜单支持：

- 设置点击时长（秒）
- 设置点击间隔（秒）
- 设置检查“继续尝试”按钮的点击间隔 ✅

---

## 📋 设置建议

- 默认点击间隔为 `0.02` 秒（约 50 次/秒）
- 默认检查“继续尝试”按钮为每 5 次点击检查一次
- 若设备性能较差，可适当将点击间隔调整为 `0.05` 或 `0.1`

---

## 🛠️ 自定义项

如需自定义默认参数，请修改 `init.lua` 文件顶部的以下变量：

```lua
local clickInterval = 0.02       -- 点击间隔（秒）
local checkInterval = 5          -- 检查“继续尝试”按钮的间隔（点击次数）
```

---

## 📝 更新记录（简要）

- `2025-05-21`：增加“继续尝试”按钮自动点击功能 ✅
- `2025-05-21`：添加“检查间隔”自定义项 ✅
- `2025-05-21`：优化点击速率与事件复用逻辑 ✅

---

## 📜 许可证

MIT License

---

> 本项目由 @你自己 编写，欢迎 fork 或参与改进，如果你喜欢这个项目请点个 star ✨